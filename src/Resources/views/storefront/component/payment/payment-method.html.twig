{% sw_extends '@Storefront/storefront/component/payment/payment-method.html.twig' %}

{% block component_payment_method_description %}
    {{ parent() }}

    {# Check if the payment method handler belongs to WhitelabelMachineName #}
    {% if payment.handlerIdentifier == 'WeArePlanetPayment\\Core\\Checkout\\PaymentHandler\\WeArePlanetPaymentHandler' %}
        {# Retrieve the runtime-attached configuration from the extension #}
        {% set plnConfig = payment.extensions.weareplanet_config %}

        {% if plnConfig %}
            {% set paymentMethodConfigurationId = plnConfig.paymentMethodConfigurationId %}

            {# Include the iframe container template #}
            {% sw_include '@WeArePlanetPayment/storefront/component/payment/weareplanet_iframe.html.twig' with {
                'paymentMethodConfigurationId': paymentMethodConfigurationId
            } %}
        {% endif %}
    {% endif %}
{% endblock %}
